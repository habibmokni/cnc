<mat-accordion class="expansion">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Select Size</mat-panel-title>
      <mat-panel-description *ngIf="isSizeSelected">Selected size: {{size}}</mat-panel-description>
    </mat-expansion-panel-header>
    <div class="product_size_list_expansion" *ngFor="let size of product.variants[0].sizes; let i=index">
      <mat-divider></mat-divider>
      <a fxLayout
      id="sizeSelector"
      style=" color: #8B283D;"
      (click)="onSizeSelect(size,i,product)"
      [ngStyle]="+product.variants[0].inStock[i]===0 ? {backgroundColor: 'rgba(0,0,0,.16)', color: 'rgb(184, 184, 184)'}: {backgroundColor: 'white'}"
      >
      {{size}}
      <span class="filler"></span>
      <p *ngIf="+product.variants[0].inStock[i]<5 && +product.variants[0].inStock[i]>0" style="color: #dfdf53;">almost sold out</p>
      <p *ngIf="+product.variants[0].inStock[i]===0" style="color: rgb(184, 184, 184)">Sold out | Check in stores</p>
      <mat-icon *ngIf="+product.variants[0].inStock[i]===0" style="padding-top: 9px; color: #8B283D;" fontSet="material-icons-outlined">room</mat-icon>
      </a>
      <mat-divider></mat-divider>
    </div>
  </mat-expansion-panel>
</mat-accordion>
<mat-divider></mat-divider>
<div class="selected_store">
  <div *ngIf="user && isSizeSelected">
    <mat-card-content>
      <h2>Your selected store</h2>
      <h4 style="display: contents;">
        <mat-icon *ngIf="stock>5" style="color: green; font-size: 14px;">fiber_manual_record</mat-icon>
        <mat-icon *ngIf="stock<=5 && stock>0" style="color: yellow; font-size: 14px;">fiber_manual_record</mat-icon>
        <mat-icon *ngIf="stock===0 && isSizeSelected" style="color: red; font-size: 14px;">fiber_manual_record</mat-icon>
        Address: {{user.storeSelected.address}}</h4>
    </mat-card-content>
    <mat-card-actions style="text-align: center;">
      <button
      id="changeStore"
      (click)="openDialog(product)"
      style="background: linear-gradient(180deg, #D53D5E 0%, #8B283D 100%); border-radius: 17px; color: white;"
      mat-flat-button
      >Change Store</button>
    </mat-card-actions>
  </div>
  <mat-divider></mat-divider>
</div>

